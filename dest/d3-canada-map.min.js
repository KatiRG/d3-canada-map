this.getCanadaMap=function(a,b){var c,d,e,f=d3.dispatch("loaded","zoom","error"),g=function(b){var c,d,e=d3.transition().duration(1e3);this.svg.selectAll(".zoomed").classed("zoomed",!1),b?(this.provinces[b]._bBox?(d=this.provinces[b].obj,c=this.provinces[b]._bBox):(d=this.provinces[b].obj=this.svg.select("."+b),c=this.provinces[b]._bBox=d.node().getBBox()),d.classed("zoomed",!0),this.obj.classed("zoomed",!0)):c=this._bBox,a.transition(e).attr("viewBox",[c.x,c.y,c.width,c.height].join(" ")).on("end",function(){f.call("zoom",this,b)})};return b=b||{},c={settings:b,svg:a,provinces:{},on:function(a,b){return f.on(a,b),this}},b.provinces&&"string"==typeof b.provinces&&(b.provinces=[b.provinces]),d=b.projection=b.projection||d3.geoTransverseMercator().rotate([95,0]),e=d3.geoPath().projection(d),d3.json("/data/canada.json",function(d,h){if(d){if(d instanceof Error)return f.call("error",c,d);if(d instanceof ProgressEvent)return f.call("error",c,new Error("Could not load the map file ("+d.target.status+" "+d.target.statusText+")"))}try{var i,j,k,l=a.append("g").attr("class","canada-map"),m=Object.keys(h.objects);for(k=0;k<m.length;k+=1)i=m[k],j=i.substr(3),b.provinces&&b.provinces.indexOf(j)===-1||(l.append("path").datum(topojson.feature(h,h.objects[i])).attr("class",j).attr("d",e),c.provinces[j]={zoom:g.bind(c,j)});c.obj=l,c._bBox=l.node().getBBox(),c.zoom=g.bind(c),c.zoom(),f.call("loaded",c)}catch(a){return f.call("error",c,a)}}),c};
//# sourceMappingURL=d3-canada-map.min.js.map